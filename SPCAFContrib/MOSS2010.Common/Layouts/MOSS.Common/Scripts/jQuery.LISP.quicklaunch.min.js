(function(e,t,n,r){function u(t,n){this.element=t;this.options=e.extend({},s,n,o);this._defaults=s;this._name=i;this.init()}var i="quicklaunchHide",s={collapseImage:"/_layouts/images/mewa_leftPage.gif",expandImage:"/_layouts/images/mewa_rightPage.gif",prependLocation:".s4-tn",mainDiv:".s4-ca",leftMargin:0,hideOnDefault:false,allowCookie:false,cookieName:"quicklaunchStatus"},o={buttonClass:"min",mainMargin:0};u.prototype={init:function(){this.options.mainMargin=e(this.options.mainDiv).css("margin-left");this.setupDefaults(this.element,this.options)},setupDefaults:function(t,n){var r=getCookie(n.cookieName);e(n.prependLocation).prepend("<a class='"+n.buttonClass+"' style='float:left; ' title='Hide \\ Show Quick Launch'><img src='"+n.collapseImage+"'/></a>");e("."+n.buttonClass).click(function(){toggleQuicklaunch(t,n);if(n.allowCookie){setCookie(n.cookieName,e(t).is(":visible"),1)}});if(r!=null&&r!=""){if(r==="false"){toggleQuicklaunch(t,n)}}else{if(n.hideOnDefault){toggleQuicklaunch(t,n)}}if(n.allowCookie===false){deleteCookie(n.cookieName)}}};toggleQuicklaunch=function(t,n){e(t).toggle();e(t).is(":visible")?e(n.mainDiv).css("margin-left",n.mainMargin):e(n.mainDiv).css("margin-left",n.leftMargin);e(t).is(":visible")?e("."+n.buttonClass).children().attr("src",n.collapseImage):e("."+n.buttonClass).children().attr("src",n.expandImage)};setCookie=function(e,t,r){if(r){var i=new Date;i.setTime(i.getTime()+r*24*60*60*1e3);var s="; expires="+i.toGMTString()}else var s="";n.cookie=e+"="+t+s+"; path=/"};getCookie=function(e){var t=e+"=";var r=n.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(t)==0)return s.substring(t.length,s.length)}return null};deleteCookie=function(e){setCookie(e,"",-1)};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new u(this,t))}})}})(jQuery,window,document)